(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),c=n.n(o),i=n(5),u=n(63),l=n(20),s=n(14),f=n(15),h=n(18),d=n(16),p=n(19),m=n(26),b=n.n(m),g=n(52),y=n(65),v=n(37),_=n.n(v),E=[{value:"home",label:"All"},{value:"arts",label:"Arts"},{value:"automobiles",label:"Automobiles"},{value:"books",label:"Books"},{value:"business",label:"Business"},{value:"fashion",label:"Fashion"},{value:"food",label:"Food"},{value:"health",label:"Health"},{value:"insider",label:"Insider"}],x=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={categoryFilter:E.find(function(e){return e.value===n.props.category})},n.handleChange=function(e,t){var a=n.props,r=a.fetchCategory;(0,a.resetQuery)(),r(e.value).then(function(){return n.setState(Object(g.a)({},t.name,E.find(function(e){return e.value===n.props.category})))})},n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return t.categoryFilter.value!==e.category&&this.setState({categoryFilter:E.find(function(t){return t.value===e.category})}),!0}},{key:"render",value:function(){var e=this.state.categoryFilter;return r.a.createElement("div",{className:_.a.searchBar},r.a.createElement("p",{className:_.a.headline},"Search for category!"),r.a.createElement(y.a,{value:e,onChange:this.handleChange,options:E,name:"categoryFilter"}))}}]),t}(a.Component),S="FETCH_NEWS_REQUEST",w="FETCH_NEWS_SUCCESS",O="FETCH_NEWS_ERROR",j="FETCH_QUERY_REQUEST",C="FETCH_QUERY_SUCCESS",k="FETCH_QUERY_ERROR",R="FETCH_CATEGORY_REQUEST",F="FETCH_CATEGORY_SUCCESS",N="FETCH_CATEGORY_ERROR",Q="RESET_CATEGORY",T="SET_QUERY",P="RESET_QUERY",A=function(e){return{type:T,payload:{query:e},meta:{throttle:500}}},U=function(){return{type:P}},L=n(28),q=n.n(L);q.a.defaults.baseURL="https://api.nytimes.com";var B="C6GGi8KZw3trJ9WVgug7nXkDN7bpGOn9",H=function(){return function(e){e({type:S}),q.a.get("/svc/topstories/v2/home.json?api-key=".concat(B)).then(function(e){return{articles:e.data.results.map(function(e){return{section:e.section,title:e.title,url:e.url,date:e.published_date,multimedia:e.multimedia}})}}).catch(function(e){return console.log(e)}).then(function(t){return e(function(e){return{type:w,payload:{data:e}}}(t))}).catch(function(t){return e({type:O,payload:{error:t}})})}},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){n({type:j,meta:{throttle:500}}),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return q.a.get("/svc/search/v2/articlesearch.json?q=".concat(e,"&api-key=").concat(B,"&page=").concat(t)).then(function(e){return{articles:e.data.response.docs.map(function(e){return{section:e.section_name,title:e.headline.main,url:e.web_url,date:e.pub_date,multimedia:e.multimedia}})}}).catch(function(e){return console.log(e)})}(e,t).then(function(e){return n(function(e){return{type:C,payload:{data:e}}}(e))}).catch(function(e){return n({type:k,payload:{error:e}})})}},G=function(e){return function(t){return t({type:R,meta:{throttle:500}}),function(e){return q.a.get("/svc/topstories/v2/".concat(e,".json?api-key=").concat(B)).then(function(e){return{articles:e.data.results.map(function(e){return{section:e.section,title:e.title,url:e.url,date:e.published_date,multimedia:e.multimedia}}),category:e.data.section}}).catch(function(e){return console.log(e)})}(e).then(function(e){return t(function(e){return{type:F,payload:{data:e}}}(e))}).catch(function(e){return t({type:N,payload:{error:e}})})}},D=function(e){return e.news.articles},z=function(e){return e.news.isLoading},W=function(e){return e.news.isPagination},M=function(e){return e.news.category},I=function(e){return e.news.query},J=Object(i.b)(function(e){return{category:M(e)}},function(e){return{fetchCategory:function(t){return e(G(t))},resetQuery:function(){return e(U())}}})(x),X=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={query:""},n.handleChange=function(e){n.setState({query:e.target.value})},n.handleSubmit=function(e){e.preventDefault();var t=n.props,a=t.fetchQuery,r=t.setQuery,o=n.state.query;a(o),r(o),n.setState({query:""})},n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.state.query,t=this.props.currentQuery;return r.a.createElement("div",{className:b.a.container},r.a.createElement("form",{onSubmit:this.handleSubmit,className:b.a.search},r.a.createElement("input",{type:"text",value:e,onChange:this.handleChange,className:b.a.search__input,placeholder:"Something interesting?"}),r.a.createElement("button",{type:"submit",className:b.a.search__submit},"Search!")),r.a.createElement(J,null),t&&r.a.createElement("p",{className:b.a.results},'Results for "',t,'"'))}}]),t}(a.Component),V=Object(i.b)(function(e){return{currentQuery:I(e)}},function(e){return{fetchQuery:function(t){return e(Y(t))},setQuery:function(t){return e(A(t))}}})(X),Z=n(54),K=n.n(Z),$=function(e){var t=e.fetchNews,n=e.resetQuery;return r.a.createElement("div",null,r.a.createElement("h1",{className:K.a.headline,onClick:function(){n(),t()}},"New York Times Portal"),r.a.createElement(V,null))},ee=Object(i.b)(null,function(e){return{fetchNews:function(){return e(H())},resetQuery:function(){return e(U())}}})($),te=n(17),ne=n(1),ae=n(55),re=n(25);function oe(){var e=Object(te.a)(["\n  position: relative;\n  font-family: 'Alegreya Sans SC', sans-serif;\n  border-radius: 5px;\n  padding: 10px;\n  flex: 0 0 80%;\n  height: 300px;\n  margin-bottom: 20px;\n  background-image: url(",");\n  background-size: cover;\n  background-position: center center;\n  object-fit: cover;\n  box-shadow: 0 0 16px 0px #000000;\n  transition: all 0.3s;\n  &:hover {\n    box-shadow: 0 0 26px 0px #000000;\n    transform: scale(1.03);\n  }\n  @media (min-width: 768px) {\n    flex: 0 0 48%;\n  }\n  @media (min-width: 1200px) {\n    flex: 0 0 32%;\n  }\n"]);return oe=function(){return e},e}var ce=re.a.li(oe(),function(e){var t;return(t=0===e.multimedia.length?"https://media4.s-nbcnews.com/i/newscms/2019_01/2705191/nbc-social-default_b6fa4fef0d31ca7e8bc7ff6d117ca9f4.png":e.multimedia[4].url).includes("https")?t:"https://static01.nyt.com/".concat(t)});function ie(){var e=Object(te.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  color: #ffffff;\n  background-color: #0b6460;\n  width: 100%;\n  height: 20%;\n  font-size: 20px;\n  line-height: 25px;\n  padding: 5px 10px;\n  text-align: center;\n  text-decoration: none;\n  overflow: hidden;\n  box-shadow: 0 0 10px 0 #000000;\n  /* border-top-left-radius: 5px;\n  border-top-right-radius: 5px; */\n  border-radius: 5px;\n  ",":hover & {\n    background-color: #334948;\n  }\n"]);return ie=function(){return e},e}var ue=re.a.a.attrs({target:"_blank"})(ie(),ce);function le(){var e=Object(te.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  color: #ffffff;\n  background-color: #0b6460;\n  width: 100%;\n  height: 20%;\n  font-size: 20px;\n  line-height: 25px;\n  padding: 5px 10px;\n  text-align: center;\n  overflow: hidden;\n  border-radius: 5px;\n  transition: all 0.3s;\n  opacity: 0;\n  ",":hover & {\n    background-color: #334948;\n    box-shadow: 0 0 10px 0 #000000;\n    opacity: 1;\n  }\n"]);return le=function(){return e},e}var se=re.a.div(le(),ce),fe=function(e){var t=e.section,n=e.title,a=e.url,o=e.date,c=e.multimedia,i=new Date(o).toLocaleDateString("en-US",{dateStyle:"long"});return r.a.createElement(ce,{multimedia:c},r.a.createElement(ue,{href:a},n),r.a.createElement(se,null,r.a.createElement("p",null,"Section: ",t),r.a.createElement("p",null,i)))},he=n(57),de=n.n(he),pe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={currentPage:1},n.handlePagination=function(e){var t=n.props,a=t.fetchQuery,r=t.query,o=n.state.currentPage;if("reset"!==e.target.name){var c="decrease"===e.target.name?-1:1;n.setState(function(e){return{currentPage:e.currentPage+c}},function(){a(r,o)})}else n.setState(function(){return{currentPage:1}},function(){a(r,o)})},n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.state.currentPage;return r.a.createElement("div",{className:de.a.Pagination},r.a.createElement("button",{type:"button",disabled:1===e,onClick:this.handlePagination,name:"decrease"},"Prev"),r.a.createElement("p",null," ",e," "),r.a.createElement("button",{type:"button",onClick:this.handlePagination,name:"increase"},"Next"))}}]),t}(a.Component),me=Object(i.b)(function(e){return{query:I(e)}},function(e){return{fetchQuery:function(t,n){return e(Y(t,n))},setQuery:function(t){return e(A(t))},resetQuery:function(){return e(U())}}})(pe),be=n(58),ge=n.n(be);function ye(){var e=Object(te.a)(["\n  display: block;\n  margin: 30px auto 0;\n  border-color: #0b6460;\n  display: flex;\n  justify-content: center;\n"]);return ye=function(){return e},e}var ve=Object(ne.css)(ye()),_e=function(e){var t=e.articles,n=void 0===t?[]:t,a=e.isLoading,o=e.isPagination;return console.log(n),r.a.createElement(r.a.Fragment,null,a?r.a.createElement(ae.BeatLoader,{css:ve,sizeUnit:"px",size:40,color:"#0b6460",loading:a}):r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:ge.a.newsList},n===[]?r.a.createElement("p",null,"Loading..."):n.map(function(e){return r.a.createElement(fe,Object.assign({},e,{key:e.url}))})),o&&0!==n.length&&r.a.createElement(me,null)))},Ee=Object(i.b)(function(e){return{articles:D(e),isLoading:z(e),isPagination:W(e)}})(_e),xe=n(59),Se=n.n(xe),we=function(){return r.a.createElement("footer",{className:Se.a.footer},r.a.createElement("p",null,"Created by",r.a.createElement("a",{href:"https://github.com/Alexeychuk",target:"_blank",rel:"noopener noreferrer"},"Alekseychuk")))},Oe=n(60),je=n.n(Oe),Ce=function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchNews)()}},{key:"render",value:function(){return r.a.createElement("div",{className:je.a.container},r.a.createElement(ee,null),r.a.createElement(Ee,null),r.a.createElement(we,null))}}]),t}(a.Component),ke=Object(i.b)(null,function(e){return{fetchNews:function(){return e(H())}}})(Ce),Re=n(12),Fe=n(61),Ne=n(62),Qe=Object(Re.combineReducers)({articles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case w:case C:case F:return a.data.articles;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case w:case O:case C:case k:case F:case N:return!1;case S:case j:case R:return!0;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case O:case k:case N:return a.error;default:return e}},isPagination:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case w:case F:return!1;case C:return!0;default:return e}},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"home",t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case F:return a.data.category;case w:case C:case Q:return"home";default:return e}},query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case T:return a.query;case P:return null;default:return e}}}),Te=function(){return function(e){return function(t){e(t)}}},Pe={},Ae=function(){return function(e){return function(t){var n=t.meta&&t.meta.throttle;if(!n)return e(t);Pe[t.type]||(Pe[t.type]=!0,setTimeout(function(){Pe[t.type]=!1},n),e(t))}}},Ue=Object(Re.combineReducers)({news:Qe}),Le=[Ne.a,Te,Ae],qe=Object(Re.createStore)(Ue,Object(Fe.composeWithDevTools)(Re.applyMiddleware.apply(void 0,Le)));n(115);c.a.render(r.a.createElement(i.a,{store:qe},r.a.createElement(u.a,null,r.a.createElement(l.a,{component:ke}))),document.getElementById("root"))},26:function(e,t,n){e.exports={container:"SearchForm_container__Xseoi",search:"SearchForm_search__15GN_",search__input:"SearchForm_search__input__1gBMI",search__submit:"SearchForm_search__submit__3iRxd",results:"SearchForm_results__2gYCZ"}},37:function(e,t,n){e.exports={searchBar:"SearchBar_searchBar__23VXA",headline:"SearchBar_headline__s8Ukr"}},54:function(e,t,n){e.exports={headline:"AppBar_headline__3vpM3"}},57:function(e,t,n){e.exports={Pagination:"Pagination_Pagination__3uLSb"}},58:function(e,t,n){e.exports={newsList:"NewsList_newsList__3Hiik"}},59:function(e,t,n){e.exports={footer:"Footer_footer__3ssC3"}},60:function(e,t,n){e.exports={container:"App_container__3SokS"}},68:function(e,t,n){e.exports=n(117)}},[[68,1,2]]]);
//# sourceMappingURL=main.14c8dfb9.chunk.js.map